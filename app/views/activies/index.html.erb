<div class="col-8", id="calendar">
  <%= month_calendar start_date_param: :my_date do |date| %>
    <% activies_by_day = @activies.select { |a| a.time.to_date == date } %>
    <div class="day" data-date="<%= date %>" data-toggle="tooltip" data-html="true" title="<% activies_by_day.each do |active| %><div class='money'><%= active.come? ? "+#{active.money}"+"&emsp;"+ active.note : "-#{active.money}"+"&emsp;"+ active.note %></div><% end %>">
    <%= date.day %>
    <% @sum_come = 0 %>
    <% @sum_out = 0 %>
    <% activies_by_day.each do |f| %>
      <% if f.come? %>
        <% @sum_come = @sum_come + f.money %>
      <% else %>
        <% @sum_out = @sum_out + f.money %>
      <% end %>
    <% end %>

    <% unless @sum_come == 0 %>
      <div style="min-height: 10px" class="font-money-come modal-activity sum-money-come"><%= "+#@sum_come" %></div>
    <% end %>
    <% unless @sum_out == 0 %>
      <div class="font-money-out modal-activity sum-money-out"><%= "-#@sum_out" %></div>
    <% end %>
    <%= link_to "javascript:void())", data: {target: "#Modal_activies", toggle: "modal", day: date } do %>
      <i class="fas fa-pencil-alt day-icon"></i>
    <% end %> 
  </div>
  <% end %>
</div>

<!-- Modal -->
<div class="modal fade" id="Modal_activies" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">家計簿入力</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="expence-form modal-body">
        <%= render "form" %>
      </div>
    </div>
  </div>
</div>

<%= stylesheet_link_tag "activies" %>
